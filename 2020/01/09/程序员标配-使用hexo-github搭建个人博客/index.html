<!DOCTYPE HTML>
<html>
<head>
  <meta charset="utf-8">
  <meta http-equiv="pragma" content="no-cache">
  <meta http-equiv="cache-control" content="no-cache">
  <meta http-equiv="expires" content="0">
  
  <title>程序员标配--使用hexo+github搭建个人博客 | 刘贵生的博客</title>
  <meta name="author" content="刘贵生">
  
  <meta name="description" content="&amp;emsp;&amp;emsp;作为一名合格的程序员，拥有一个自己的个人网站，那想必是非常舒服了。我们可以在里边写写技术博客，发发牢骚，记录自己的生活。当然，我们可以在博客园，掘金的博客网站发表，但是那毕竟是人家的东西，我们应该试着搭建一个自己的博客。但是，做网站就要买服务器，买服务器就要花钱，这对于我们这帮屌丝程序员来说当然是不太友好，这时候，我们就想到一个搭建很熟悉的东西–github。&amp;emsp;&amp;emsp;github作为世界上最大的同性交友基地，它除了能为广大男性同胞带来灵魂上的快感，还有一个巨大的作用，那就是可以充当一个小型的服务器。
&amp;emsp;&amp;emsp;使用gitlab搭建个人博客的好处非常多，比如：

访问速度快，仓库里只需放打包好的静态页面
构建快，代码push到远程仓库后，分分钟构建完
免费（当然这是最大的好处）
易于管理，这得益于github超强的代码管理能力，比如分支，版本回退等
可以绑定自己的域名

&amp;emsp;&amp;emsp;常见的博客生成工具有两种，一个是hexo,另一个是jekyll。两者其实大同小异，但是jekyll语法和配置相对于复杂，它需要ruby环境。而hexo就比较简单易上手，只需要node环境就ok了。下面我们进入正题，详细介绍如何使用hexo+github搭建个人博客。
准备工作
首先你得有一个github账号吧，注册过程这里不做过多介绍了。注册账号点这里
配置node环境,根据系统下载好node安装包，一路下一步安装就ok了。node下载
shell工具，这个可以自行选择，比如cmd，powerShell,git等，建议使用git
如果你想要自己的域名，可以花钱去申请一个，一般点的域名也不是太贵，一年几十块钱，其实这点钱对于程序员也不算什么，少买件格子衫就有了。

&amp;emsp;&amp;emsp;好了，基本的准备工作就这些了,下面真的要进入正题了。
安装hexohexo需要全局安装，命令如下：
npm install -g hexo">
  
  
  <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">

  <meta property="og:title" content="程序员标配--使用hexo+github搭建个人博客"/>
  <meta property="og:site_name" content="刘贵生的博客"/>

  
    <meta property="og:image" content=""/>
  

  
  
    <link href="/favicon.png" rel="icon">
  
  
  <link rel="stylesheet" href="/css/bootstrap.min.css" media="screen" type="text/css">
  <link rel="stylesheet" href="/css/font-awesome.css" media="screen" type="text/css">
  <link rel="stylesheet" href="/css/style.css" media="screen" type="text/css">
  <link rel="stylesheet" href="/css/responsive.css" media="screen" type="text/css">
  <link rel="stylesheet" href="/css/highlight.css" media="screen" type="text/css">
  <link rel="stylesheet" href="/css/google-fonts.css" media="screen" type="text/css">
  <link rel="stylesheet" href="/css/update-style.css" media="screen" type="text/css">
  <!--[if lt IE 9]><script src="//html5shiv.googlecode.com/svn/trunk/html5.js"></script><![endif]-->

  <script src="/js/jquery-2.0.3.min.js"></script>

  <!-- analytics -->
  
<script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','//www.google-analytics.com/analytics.js','ga');
  ga('create', 'UA-70812759-1', 'auto');
  ga('send', 'pageview');
</script>



<script>
var _hmt = _hmt || [];
(function() {
  var hm = document.createElement("script");
  hm.src = "//hm.baidu.com/hm.js?cb5448498d7169c668b07c2b255d62c1";
  var s = document.getElementsByTagName("script")[0]; 
  s.parentNode.insertBefore(hm, s);
})();
</script>


<meta name="generator" content="Hexo 4.2.0"></head>

 <body>  
  <nav id="main-nav" class="navbar navbar-inverse navbar-fixed-top" role="navigation">
    <div class="container">
      <button type="button" class="navbar-header navbar-toggle" data-toggle="collapse" data-target=".navbar-collapse">
		<span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
	  <a class="navbar-brand" href="/">刘贵生的博客</a>
      <div class="collapse navbar-collapse nav-menu">
		<ul class="nav navbar-nav">
		  
		  <li>
			<a href="/archives" title="">
			  <i class=""></i>文章
			</a>
		  </li>
		  
		  <li>
			<a href="/categories" title="">
			  <i class=""></i>分类
			</a>
		  </li>
		  
		  <li>
			<a href="/tags" title="">
			  <i class=""></i>标签
			</a>
		  </li>
		  
		  <li>
			<a href="/music" title="">
			  <i class=""></i>歌单
			</a>
		  </li>
		  
		  <li>
			<a href="/about" title="">
			  <i class=""></i>关于我
			</a>
		  </li>
		  
		</ul>
      </div>
    </div> <!-- container -->
</nav>
<div class="clearfix"></div>

  <div class="container">
  	<div class="content">
    	 


	
		<div class="page-header">
			<h1> 程序员标配--使用hexo+github搭建个人博客</h1>
		</div>
	



<div class="row post">
	<!-- cols -->
	
	<div id="top_meta"></div>
	<div class="col-md-9">
	

	<!-- content -->
	<div class="mypage">		
	  		

	  <p>&emsp;&emsp;作为一名合格的程序员，拥有一个自己的个人网站，那想必是非常舒服了。我们可以在里边写写技术博客，发发牢骚，记录自己的生活。当然，我们可以在博客园，掘金的博客网站发表，但是那毕竟是人家的东西，我们应该试着搭建一个自己的博客。但是，做网站就要买服务器，买服务器就要花钱，这对于我们这帮屌丝程序员来说当然是不太友好，这时候，我们就想到一个搭建很熟悉的东西–github。<br>&emsp;&emsp;github作为世界上最大的同性交友基地，它除了能为广大男性同胞带来灵魂上的快感，还有一个巨大的作用，那就是可以充当一个小型的服务器。</p>
<p>&emsp;&emsp;<strong>使用gitlab搭建个人博客的好处非常多，比如：</strong></p>
<ol>
<li>访问速度快，仓库里只需放打包好的静态页面</li>
<li>构建快，代码push到远程仓库后，分分钟构建完</li>
<li>免费（当然这是最大的好处）</li>
<li>易于管理，这得益于github超强的代码管理能力，比如分支，版本回退等</li>
<li>可以绑定自己的域名</li>
</ol>
<p>&emsp;&emsp;常见的博客生成工具有两种，一个是<a href="https://hexo.io/zh-cn/" target="_blank" rel="noopener">hexo</a>,另一个是<a href="http://jekyllcn.com/" target="_blank" rel="noopener">jekyll</a>。两者其实大同小异，但是jekyll语法和配置相对于复杂，它需要ruby环境。而hexo就比较简单易上手，只需要node环境就ok了。下面我们进入正题，详细介绍如何使用hexo+github搭建个人博客。</p>
<h2 id="准备工作"><a href="#准备工作" class="headerlink" title="准备工作"></a>准备工作</h2><ol>
<li>首先你得有一个github账号吧，注册过程这里不做过多介绍了。<a href="https://github.com/join?source=header-home">注册账号点这里</a></li>
<li>配置node环境,根据系统下载好node安装包，一路下一步安装就ok了。<a href="https://nodejs.org/zh-cn/download/" target="_blank" rel="noopener">node下载</a></li>
<li>shell工具，这个可以自行选择，比如cmd，powerShell,git等，建议使用<a href="https://git-scm.com/" target="_blank" rel="noopener">git</a></li>
<li>如果你想要自己的域名，可以花钱去申请一个，一般点的域名也不是太贵，一年几十块钱，其实这点钱对于程序员也不算什么，少买件格子衫就有了。</li>
</ol>
<p>&emsp;&emsp;好了，基本的准备工作就这些了,下面真的要进入正题了。</p>
<h1 id="安装hexo"><a href="#安装hexo" class="headerlink" title="安装hexo"></a>安装hexo</h1><p>hexo需要全局安装，命令如下：</p>
<pre><code>npm install -g hexo</code></pre><p>linux和mac用户需要添加权限 </p>
<pre><code>sudo npm install -g hexo</code></pre><p>安装完成之后，接下来我们下载博客模板</p>
<h1 id="初始化模板"><a href="#初始化模板" class="headerlink" title="初始化模板"></a>初始化模板</h1><p> 首先我们新建一个文件夹用来放模板，文件夹名字随便起，题材不限，这里以<code>blog</code>为例,新建blog文件夹，切换到blog，用hexo给出的命令<code>hexo init</code>初始化模板</p>
<pre><code> mkdir blog 

 cd blog

 hexo init</code></pre><p> 下载完成时候，blog文件夹内出现以下文件</p>
<p> <img src="https://img-blog.csdnimg.cn/2020042915153328.png" alt="image"><br> 下面介绍以下各个文件的作用</p>
<ul>
<li>scaffolds: 模板文件夹，里边的<code>.md</code>文件都是各个模板，比如<code>page.md</code>是我们新建页面的模板， post是我们新建博客的模板，我们可以修改这些默认模板</li>
<li>source: 资源文件夹</li>
<li>themes: 主题文件夹</li>
<li>_config.yml: 网站的配置信息，大部分配置都可以在这里修改</li>
<li>package.json: 应用程序信息，也装着各种依赖</li>
</ul>
<h1 id="打包成博客"><a href="#打包成博客" class="headerlink" title="打包成博客"></a>打包成博客</h1><p>模板下载好之后，我们就用这个模板打包成博客并启动服务，首先先装一下依赖</p>
<pre><code>npm i</code></pre><p>装完之后打包模板</p>
<pre><code>hexo g</code></pre><p>打包完成之后你会发现在目录下多了一个<code>public</code>文件夹,这些文件就是最终生成的博客静态网站，最终都要提交到github发布。</p>
<p>接下来启动服务</p>
<pre><code>hexo g</code></pre><p>启动完之后控制台生成<code>http://localhost:4000</code>网址，打开之后就是这个丑样子：</p>
<p><img src="https://img-blog.csdnimg.cn/20200429162134668.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L2NvZGVMaXVndWlzaGVuZw==,size_16,color_FFFFFF,t_70" alt="image"></p>
<p>由于这个主题实在是太丑了，所以接下来我们要美化一下</p>
<h1 id="更换主题"><a href="#更换主题" class="headerlink" title="更换主题"></a>更换主题</h1><p>hexo有一个主题库<a href="https://hexo.io/themes/" target="_blank" rel="noopener">地址</a>,这里的主题应有，当然如果你都不喜欢，可以即几做一个，方法自己网上找。 我现在用的主题是<code>freemind.386</code>,病毒风格，特殊口味。<br>以<code>freemind.386</code>为例，克隆项目到<code>theme</code>目录下</p>
<pre><code>git clone git@github.com:blackshow/hexo-theme-freemind.386.git themes/freemind.385</code></pre><p>更改项目目录下<code>_config.yml</code>配置文件中的<code>theme</code>属性的值为<code>freemind.386</code>。注意不是主题文件中的<code>_config.yml</code><br>（再次注意，有的的主题是需要下载依赖的，具体看clone的主题目录有没有<code>package.json</code>,如果有，需要切换到主题目录执行<code>npm install</code>下载依赖包）;<br>然后重新打包，启动服务，</p>
<pre><code>hexo g
hexo s</code></pre><p>也可以使用组合命令</p>
<pre><code>hexo s -g</code></pre><p>到此为止，主题就更换完了</p>
<h1 id="部署"><a href="#部署" class="headerlink" title="部署"></a>部署</h1><p>接下来，我们把生成的静态网页部署到github。</p>
<h4 id="1-配置ssh"><a href="#1-配置ssh" class="headerlink" title="(1)配置ssh"></a>(1)配置ssh</h4><p>首先，需要配置<code>ssh</code>,在命令行输入</p>
<pre><code>ssh-keygen -t rsa -C &quot;此处填写你的邮件地址&quot;</code></pre><p>然后疯狂按3次回车就生成好了，我们把生成好的的````ssh```粘贴到github中，命令行输入</p>
<pre><code>cat ~/.ssh/id_rsa.pub</code></pre><p>复制<code>ssh</code>到github中，位置是 【点击github头像】–&gt;【Settings】–&gt;【SSH and GPG keys】–&gt; 【New SSH key】</p>
<p>然后配置git用户信息，防止以后每次提交代码都要输入账号和密码</p>
<pre><code>git config --global user.name &quot;github用户名&quot;
git config --global user.email &quot;githab注册用的邮箱&quot;</code></pre><h4 id="2-创建博客仓库"><a href="#2-创建博客仓库" class="headerlink" title="(2)创建博客仓库"></a>(2)创建博客仓库</h4><p>点击github右上角的加号，选择【New responitroy】新建一个仓库，仓库名为 <code>你的github名+github.io</code></p>
<p><img src="https://img-blog.csdnimg.cn/2020042917304975.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L2NvZGVMaXVndWlzaGVuZw==,size_16,color_FFFFFF,t_70" alt="image"></p>
<p>进入仓库，选择【Settings】找到【GitHub Pages】这一项，其中【Source】选择<code>master branch</code>,<br>下边的主题随便选一个让后commit提交</p>
<p><img src="https://img-blog.csdnimg.cn/20200429174204811.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L2NvZGVMaXVndWlzaGVuZw==,size_16,color_FFFFFF,t_70" alt="image"></p>
<p>由于我绑定了域名，所以分配到了该域名的二级域名下，正常情况访问<code>你的用户名.github.io</code>应该能访问你的博客了</p>
<h4 id="3-关联仓库地址部署"><a href="#3-关联仓库地址部署" class="headerlink" title="(3)关联仓库地址部署"></a>(3)关联仓库地址部署</h4><p>上边所有配置完成之后，我们复制该远程仓库地址</p>
<p><img src="https://img-blog.csdnimg.cn/20200429174927885.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L2NvZGVMaXVndWlzaGVuZw==,size_16,color_FFFFFF,t_70" alt="image"></p>
<p>将改地址复制到本地博客目录的<code>_config.yml</code>的<code>deploy</code>中<br><img src="https://img-blog.csdnimg.cn/2020042917505687.png" alt="image"></p>
<p>注意远程仓库地址不加<code>https://</code>,接下来安装一个插件</p>
<pre><code>npm install hexo-deployer-git --save</code></pre><p>安装成功后输入如下命令部署</p>
<pre><code>hexo d</code></pre><p>出现如下信息部署就成功了，等几分钟访问<code>你的用户名.github.io</code>就ojbk了</p>
<p><img src="https://img-blog.csdnimg.cn/20200429175657132.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L2NvZGVMaXVndWlzaGVuZw==,size_16,color_FFFFFF,t_70" alt="image"></p>
<h1 id="关联域名"><a href="#关联域名" class="headerlink" title="关联域名"></a>关联域名</h1><p>毕竟上边那种github的地址不容易被人记住，如果有一个自己的地址就再好不过了。其实买个普通的也就几十块钱，少<code>洗一次脚</code>能买好几个。我是在腾讯云买的，一年21块大洋。<a href="https://dnspod.cloud.tencent.com/" target="_blank" rel="noopener">购买传送门</a></p>
<p>完成支付之后，进入控制台，绑定域名之前需要<code>邮箱验证</code>和<code>实名认证</code>，用不多长时间，几分钟搞定。然后点击进行解析域名，操作路径为【我的域名】–&gt;【解析】</p>
<p><img src="https://img-blog.csdnimg.cn/20200429182104444.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L2NvZGVMaXVndWlzaGVuZw==,size_16,color_FFFFFF,t_70" alt="image"></p>
<p>解析需要github仓库服务的ip,获取方法为在命令行输入</p>
<pre><code>ping 服务地址   // 例如 liuguisheng.github.io</code></pre><p>获取后在腾讯云控制台配置如下</p>
<p><img src="https://img-blog.csdnimg.cn/20200429182546851.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L2NvZGVMaXVndWlzaGVuZw==,size_16,color_FFFFFF,t_70" alt="image"></p>
<p>具体配置参入里边都有介绍，这里我就不多说了，接下来进行github设置</p>
<p>在项目的【source】文件夹下新建<code>CNAME</code>文件（没有后缀）,里边填写你的域名。重新打包发布等几分钟就能访问你的域名了。 ×注意网上有的方法是直接在远程仓库的根目录下直接新建<code>CNAME</code>文件，不要那么干，因为你每次部署的时候都会把这个文件冲调，放在【source】文件的原因是hexo编译的时候会把里边的文件原封不动复制到【public】文件夹下。</p>
<p>到现在为止基本的部署的工作都做完了，接下来94要看看我们如何写博客了</p>
<h1 id="发布博客"><a href="#发布博客" class="headerlink" title="发布博客"></a>发布博客</h1><p>发布博客很简单，命令行输入</p>
<pre><code>hexo new &#39;博客名称&#39;</code></pre><p>完成后hexo会在【source】中的【_posts】文件生成一个<code>mardown</code>文件，在里边编辑博客就可以了</p>
<p>mardown文件头部部分可以添加的属性说明</p>
<pre><code>- title----------博客名称
- date-----------发布日期
- categories-----分类
- tags-----------标签
- preview--------列表页最多展示多少个文字
- toc------------是否添加目录结构</code></pre><p>如果你想修改默模板可以去【scaffolds】文件夹下修改<code>post.md</code>文件</p>
<h1 id="hexo-命令汇总"><a href="#hexo-命令汇总" class="headerlink" title="hexo 命令汇总"></a>hexo 命令汇总</h1><h4 id="1-基本命令"><a href="#1-基本命令" class="headerlink" title="(1)基本命令"></a>(1)基本命令</h4><table>
<thead>
<tr>
<th>描述</th>
<th>命令</th>
<th>缩写</th>
</tr>
</thead>
<tbody><tr>
<td>生成静态页面</td>
<td>hexo generate</td>
<td>hexo g</td>
</tr>
<tr>
<td>开启服务</td>
<td>hexo server</td>
<td>hexo s</td>
</tr>
<tr>
<td>部署到github</td>
<td>hexo deploy</td>
<td>hexo d</td>
</tr>
<tr>
<td>新建文章</td>
<td>hexo new “articleName”</td>
<td>-</td>
</tr>
<tr>
<td>新建页面</td>
<td>hexo new page “htmlName”</td>
<td>-</td>
</tr>
<tr>
<td>查看帮助</td>
<td>hexo help</td>
<td>-</td>
</tr>
<tr>
<td>查看hexo版本号</td>
<td>hexo version</td>
<td></td>
</tr>
</tbody></table>
<h4 id="2-组合命令"><a href="#2-组合命令" class="headerlink" title="(2)组合命令"></a>(2)组合命令</h4><table>
<thead>
<tr>
<th>描述</th>
<th>命令</th>
</tr>
</thead>
<tbody><tr>
<td>生成页面并预览</td>
<td>hexo s -g</td>
</tr>
<tr>
<td>生成页面并上传到github</td>
<td>hexo d -g</td>
</tr>
</tbody></table>
<h1 id="添加标签页和分类页面"><a href="#添加标签页和分类页面" class="headerlink" title="添加标签页和分类页面"></a>添加标签页和分类页面</h1><h4 id="1-标签页"><a href="#1-标签页" class="headerlink" title="(1)标签页"></a>(1)标签页</h4><p>命令行输入</p>
<pre><code>hexo new page &quot;tags&quot;</code></pre><p>这是hexo会在【soruce】文件夹下生成一个【tags】文件夹，修改该文件夹下的<code>index.md</code>,替换里边的内容为</p>
<pre><code>---
title: tags
date: 2020-04-28 17:15:54
type: &quot;tags&quot; 
layout: &quot;tags&quot; 
---
</code></pre><p>然后修改【theme】文件夹下的<code>_config.yml</code>的menu,添加如下配置</p>
<p><img src="https://img-blog.csdnimg.cn/2020042918543177.png" alt="image"></p>
<p>重新打包部署即可</p>
<h4 id="2-分类页面"><a href="#2-分类页面" class="headerlink" title="(2)分类页面"></a>(2)分类页面</h4><p>分类页面和标签页类似，命令行输入</p>
<pre><code>hexo new page &quot;categories&quot;</code></pre><p>这是hexo会在【soruce】文件夹下生成一个【tags】文件夹，修改该文件夹下的<code>index.md</code>,替换里边的内容为</p>
<pre><code>---
title: categories
date: 2020-04-28 16:46:27
type: &quot;categories&quot;
layout: &quot;categories&quot;
comments: false
---

</code></pre><p>然后修改【theme】文件夹下的<code>_config.yml</code>的menu,添加如下配置</p>
<p><img src="https://img-blog.csdnimg.cn/20200429185756736.png" alt="image"></p>
<p>重新打包部署即可</p>
<h1 id="添加评论插件"><a href="#添加评论插件" class="headerlink" title="添加评论插件"></a>添加评论插件</h1><p>网上的评论插件很多，但是最终我选择了<code>valine</code>, valine有一个自己的评论管理后台<code>leancloud</code>,每次读者在博客的评论都会流入leancloud后台。<br>但是，<code>freemind.386</code>这个主题没有集成valine,后来从网上找了方法，改造了一下主题，如果其他主题没有集成valine,也可以用下边的方法。</p>
<p>具体方法是在主题目录的【layout】–&gt;【_partial】–&gt;【post】文件夹下新建<code>valine.ejs</code>文件，里边填写如下代码</p>
<pre><code>&lt;div id=&quot;comment&quot;&gt;&lt;/div&gt;
&lt;script src=&#39;//unpkg.com/valine/dist/Valine.min.js&#39;&gt;&lt;/script&gt;
&lt;script&gt;
new Valine({
    el: &#39;#comment&#39; ,
    notify:true, 
    verify:true, 
    appId: &#39;&lt;%=theme.valine.appId%&gt;&#39;,
    appKey: &#39;&lt;%=theme.valine.appKey%&gt;&#39;,
    placeholder: &#39;&lt;%=theme.valine.appKey%&gt;&#39;,
    path:window.location.pathname, 
    avatar:&#39;mm&#39; 
});
&lt;/script&gt;</code></pre><p>然后在主题目录的【layout】–&gt;【_partial】的<code>article.ejs</code>文件中找到</p>
<pre><code>    &lt;%- partial(&#39;post/comment&#39;, {page: item}) %&gt;</code></pre><p>这行代码下面填写</p>
<pre><code>&lt;% if (theme.valine &amp;&amp; theme.valine.appId &amp;&amp; theme.valine.appKey){ %&gt;
        &lt;section id=&quot;comments&quot; class=&quot;comments&quot;&gt;
            &lt;style&gt;
            .comments{padding:10px;background:#fff}
            @media screen and (max-width:800px){.comments{margin:auto;padding:10px;background:#000}}
            &lt;/style&gt;
            &lt;%- partial(&#39;post/valine&#39;, {
            key: post.slug,
            title: post.title,
            url: config.url+url_for(post.path)
            }) %&gt;
        &lt;/section&gt;
    &lt;% } %&gt;</code></pre><p>我把修改好的主题上传到我的github中，可以自行clone到【themes】文件夹下， <a href="https://github.com/qisi007/hexo-theme-freemind.386.second">传送门</a>。</p>
<p>上述工作完成后我们看看怎么添加valine评论插件。 </p>
<p>首先去leancloud官网注册账号<a href="https://leancloud.cn/" target="_blank" rel="noopener">传送门</a>。注册完成之后进个人管理页面<code>添加应用</code>,输入应用名称，下边选开发板</p>
<p><img src="https://img-blog.csdnimg.cn/20200430114031590.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L2NvZGVMaXVndWlzaGVuZw==,size_16,color_FFFFFF,t_70" alt="image"></p>
<p>点击设置按钮</p>
<p><img src="https://img-blog.csdnimg.cn/20200430114551854.png" alt="image"></p>
<p>点击左边【存储】–&gt;【创建class】,新建两个类用来存储评论，分别是<code>Comment</code>和<code>Counter</code></p>
<p>然后点击左边【设置】–&gt;【安全中心】把没用的服务都关掉</p>
<p><img src="https://img-blog.csdnimg.cn/20200430114909833.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L2NvZGVMaXVndWlzaGVuZw==,size_16,color_FFFFFF,t_70" alt="image"></p>
<p>然后点击【应用Keys】记录下<code>AppID</code>和<code>AppKey</code>,这两个是需要配置到项目中的</p>
<p>最后在主题文件夹的<code>_config.yml</code>配置文件中添加如下代码，把<code>AppID</code>和<code>AppKey</code>添加到对应位置</p>
<pre><code>valine:
  enable: true # 是否开启
  appId:    # 上一步获取的 App ID
  appKey:   # 上一步获取的 App Key
  notify: true # 新留言是否需要通知 https://github.com/xCss/Valine/wiki
  verify: true # 是否需要验证，验证比较反人类建议false关闭
  placeholder: 请在此输入您的留言 # 默认留言框内的文字
  avatar: mm # 默认头像
  guest_info: nick,mail # 默认留言框的头部需要访问者输入的信息
  pageSize: 10 # pagination size #默认单页的留言条数</code></pre><p>最后执行<code>hexo d -g</code>打包部署，访问域名应该就可以了</p>
<p><img src="https://img-blog.csdnimg.cn/20200430115425744.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L2NvZGVMaXVndWlzaGVuZw==,size_16,color_FFFFFF,t_70" alt="image"></p>
<p>好了，到现在可以拿着自己的网站出去装逼了，其实还有很多功能，只不过我现在没有研究，比如<code>相册</code>，<code>音乐播放器</code>等，等我以后有时间弄出来之后再分享给大家。</p>
<p>我把我搭建的博客代码仓库地址也上传到了我的github中<a href="https://github.com/qisi007/website-code-save">传送门</a>；</p>
<p><a href="https://www.liuguisheng.vip/" target="_blank" rel="noopener">我的个人主页地址</a></p>
<p>最后感谢下边博客的博主提供的帮助，小心心送上❤❤；</p>
<p>感谢:</p>
<p><a href="https://zhuanlan.zhihu.com/p/28321740" target="_blank" rel="noopener">三分钟在GitHub上搭建个人博客</a></p>
<p><a href="https://www.cnblogs.com/liuxianan/p/build-blog-website-by-hexo-github.html" target="_blank" rel="noopener">使用hexo+github搭建免费个人博客详细教程</a></p>
	  
	</div>

	<div>
  	<center>
	<div class="pagination">

    
    
    <a href="/2020/09/13/vue大型项目高性能优化-想说爱你真的不容易/" type="button" class="btn btn-default"><i
                class="fa fa-arrow-circle-o-left"></i> 上一页</a>
    

    <a href="/" type="button" class="btn btn-default"><i class="fa fa-home"></i>Home</a>
    
    <a type="button" class="btn btn-default disabled">下一页<i class="fa fa-arrow-circle-o-right"></i></a>
    

    
</div>

    </center>
	</div>
	
	<!-- comment -->
	
<section id="comment">
    <h2 class="title">留言</h2>

    
</section>


	
		<section id="comments" class="comments">
			<style>
			.comments{padding:10px;background:#fff}
			@media screen and (max-width:800px){.comments{margin:auto;padding:10px;background:#000}}
			</style>
			<div id="comment"></div>
<script src='//unpkg.com/valine/dist/Valine.min.js'></script>
<script>
new Valine({
    el: '#comment' ,
    notify:true, 
    verify:true, 
    appId: 'ujj7HTnVMfHWWTTQXQ3wsoOB-gzGzoHsz',
    appKey: '2EluivF387y5A1TdMfPDYEHf',
    placeholder: '留个联系方式再走呗，你若不勇敢，你怎么知道咱们合不合适？',
    path:window.location.pathname, 
    avatar:'mm' 
});
</script>
<script>
    function loadJs(src, callback) {
        const sc = document.createElement('script');
        sc.type = 'text/javascript';
        sc.src = src;
        if (callback) {
            if (document.addEventListener) {
                sc.addEventListener("load", callback, false);
            } else {
                sc.onreadystatechange = function () {
                    if (/loaded|complete/.test(sc.readyState)) {
                        sc.onreadystatechange = null;
                        callback();
                    }
                };
            }
        }
        document.head.appendChild(sc);
    }
</script>
<script>
    document.body.addEventListener('click', function (e) {
        if (e.target.classList.contains('vsubmit')) {
            const email = document.querySelector('input[type=email]');
            const nick = document.querySelector('input[name=nick]');
            const reg = /^[A-Za-z0-9\u4e00-\u9fa5]+@[a-zA-Z0-9_-]+(\.[a-zA-Z0-9_-]+)+$/; // 邮箱正则
            if (email && (!email.value || !nick.value || !reg.test(email.value))) {
                const str = `<div class="valert txt-center"><div class="vtext">请填写正确的昵称和邮箱！</div></div>`;
                const vmark = document.querySelector('.vmark');
                vmark.innerHTML = str;
                vmark.style.display = 'block';

                setTimeout(function () {
                    vmark.style.display = 'none';
                    vmark.innerHTML = '';
                }, 2500);
            } else {
                // 使用server酱通知
                const href = window.location.href;
                const host = window.location.host;
                // hexo主题yilia添加valine评论系统 文章被恶意刷屏，无需通知
                if (href.indexOf('2018/04/05') === -1) {
                    loadJs(`https://sc.ftqq.com/SCU94700Te32159dab60781a3c638c9ac6389adf55e9d5dec90aa9.send?text=${host}博客有人留言啦~&desp=文章地址是${href}`);
                }
            }
        }
    });
</script>
		</section>
	
	</div> <!-- col-md-9/col-md-12 -->
		
	
	<div id="side_meta">
		<div class="col-md-3" id="post_meta"> 

	<!-- date -->
	
	<div class="meta-widget">
	<i class="fa fa-clock-o"></i>
	2020-01-09 
	</div>
	

	<!-- categories -->
    
	<div class="meta-widget">
	<a data-toggle="collapse" data-target="#categorys"><i class="fa fa-folder"></i></a>	
    <ul id="categorys" class="tag_box list-unstyled collapse in">
          
  <li>
    <li><a href="/categories/个人博客/">个人博客<span>2</span></a></li>
  </li>

    </ul>
	</div>
	

	<!-- tags -->
	
	<div class="meta-widget">
	<a data-toggle="collapse" data-target="#tags"><i class="fa fa-tags"></i></a>		  
    <ul id="tags" class="tag_box list-unstyled collapse in">	  
	    
  <li><a href="/tags/hexo/">hexo<span>1</span></a></li> <li><a href="/tags/github/">github<span>1</span></a></li>
    </ul>
	</div>
		

	<!-- toc -->
	<div class="meta-widget" id="toc-wrap">
	
	   <a data-toggle="collapse" data-target="#toc"><i class="fa fa-bars"></i></a>
	   <div id="toc" class="toc collapse in">
		   <span class="toc-title">Contents</span>
			<ol class="toc-article"><li class="toc-article-item toc-article-level-2"><a class="toc-article-link" href="#准备工作"><span class="toc-article-text">准备工作</span></a></li></ol></li><li class="toc-article-item toc-article-level-1"><a class="toc-article-link" href="#安装hexo"><span class="toc-article-text">安装hexo</span></a></li><li class="toc-article-item toc-article-level-1"><a class="toc-article-link" href="#初始化模板"><span class="toc-article-text">初始化模板</span></a></li><li class="toc-article-item toc-article-level-1"><a class="toc-article-link" href="#打包成博客"><span class="toc-article-text">打包成博客</span></a></li><li class="toc-article-item toc-article-level-1"><a class="toc-article-link" href="#更换主题"><span class="toc-article-text">更换主题</span></a></li><li class="toc-article-item toc-article-level-1"><a class="toc-article-link" href="#部署"><span class="toc-article-text">部署</span></a><ol class="toc-article-child"><li class="toc-article-item toc-article-level-4"><a class="toc-article-link" href="#1-配置ssh"><span class="toc-article-text">(1)配置ssh</span></a></li><li class="toc-article-item toc-article-level-4"><a class="toc-article-link" href="#2-创建博客仓库"><span class="toc-article-text">(2)创建博客仓库</span></a></li><li class="toc-article-item toc-article-level-4"><a class="toc-article-link" href="#3-关联仓库地址部署"><span class="toc-article-text">(3)关联仓库地址部署</span></a></li></ol></li></ol></li></ol></li><li class="toc-article-item toc-article-level-1"><a class="toc-article-link" href="#关联域名"><span class="toc-article-text">关联域名</span></a></li><li class="toc-article-item toc-article-level-1"><a class="toc-article-link" href="#发布博客"><span class="toc-article-text">发布博客</span></a></li><li class="toc-article-item toc-article-level-1"><a class="toc-article-link" href="#hexo-命令汇总"><span class="toc-article-text">hexo 命令汇总</span></a><ol class="toc-article-child"><li class="toc-article-item toc-article-level-4"><a class="toc-article-link" href="#1-基本命令"><span class="toc-article-text">(1)基本命令</span></a></li><li class="toc-article-item toc-article-level-4"><a class="toc-article-link" href="#2-组合命令"><span class="toc-article-text">(2)组合命令</span></a></li></ol></li></ol></li></ol></li><li class="toc-article-item toc-article-level-1"><a class="toc-article-link" href="#添加标签页和分类页面"><span class="toc-article-text">添加标签页和分类页面</span></a><ol class="toc-article-child"><li class="toc-article-item toc-article-level-4"><a class="toc-article-link" href="#1-标签页"><span class="toc-article-text">(1)标签页</span></a></li><li class="toc-article-item toc-article-level-4"><a class="toc-article-link" href="#2-分类页面"><span class="toc-article-text">(2)分类页面</span></a></li></ol></li></ol></li></ol></li><li class="toc-article-item toc-article-level-1"><a class="toc-article-link" href="#添加评论插件"><span class="toc-article-text">添加评论插件</span></a>
		</div>
	
	</div>
	
    <hr>
	
</div><!-- col-md-3 -->
<script>
	let mate = document.querySelector('#toc-wrap');
	let flag = true;
	let setClass = function () {
		let scrollHeight = document.documentElement.scrollTop
		let offsetTop = mate.offsetTop;
		(offsetTop - scrollHeight < 0) ? mate.classList.add('toc-fixed') : mate.classList.remove('toc-fixed');
	}
	document.addEventListener('scroll', setClass)	
	
</script>

<style>
	.toc-fixed {
		position: fixed;
		top: 150px;
		width: auto;
		transition: all .5s;
		z-index: 999;
	}
</style>

	</div>
		

</div><!-- row -->



	</div>
  </div>
  <div class="container-narrow">
  <footer> <p>
  &copy; 2020 刘贵生
  
      with help from <a href="http://hexo.io/" target="_blank">Hexo</a>,<a href="http://github.com/wzpan/hexo-theme-freemind/">Freemind</a>,<a href="http://getbootstrap.com/" target="_blank">Twitter Bootstrap</a> and <a href="http://getbootstrap.com/" target="_blank">BOOTSTRA.386</a>. 
     <br> Theme by <a href="http://github.com/wzpan/hexo-theme-freemind/">Freemind.386</a>.    
</p>
 </footer>
</div> <!-- container-narrow -->
  


  
<a id="gotop" href="#">   
  <span>⬆︎TOP</span>
</a>

<script src="/js/jquery.imagesloaded.min.js"></script>
<script src="/js/gallery.js"></script>
<script src="/js/bootstrap.min.js"></script>
<script src="/js/main.js"></script>
<script src="/js/search.js"></script> 


<link rel="stylesheet" href="/fancybox/jquery.fancybox.css" media="screen" type="text/css">
<script src="/fancybox/jquery.fancybox.pack.js"></script>
<script type="text/javascript">
(function($){
  $('.fancybox').fancybox();
})(jQuery);
</script>



   <script type="text/javascript">      
     var search_path = "search.xml";
	 if (search_path.length == 0) {
	 	search_path = "search.xml";
	 }
	 var path = "/" + search_path;
     searchFunc(path, 'local-search-input', 'local-search-result');
   </script>

</body>
   </html>
